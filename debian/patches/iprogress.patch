From 7ce52ecda72c18194ba3449588358a788b5710e6 Mon Sep 17 00:00:00 2001
From: Adriaan de Groot <groot@kde.org>
Date: Fri, 22 Dec 2017 16:20:35 +0100
Subject: [PATCH] [partition] Rename slots, to avoid recursion

---
 src/modules/partition/jobs/PartitionJob.cpp       | 2 +-
 src/modules/partition/jobs/PartitionJob.h         | 2 +-
 src/modules/partition/jobs/ResizePartitionJob.cpp | 2 +-
 3 files changed, 3 insertions(+), 3 deletions(-)

diff --git a/src/modules/partition/jobs/PartitionJob.cpp b/src/modules/partition/jobs/PartitionJob.cpp
index 2de93ac47..02aa1d6d6 100644
--- a/src/modules/partition/jobs/PartitionJob.cpp
+++ b/src/modules/partition/jobs/PartitionJob.cpp
@@ -22,7 +22,7 @@ PartitionJob::PartitionJob( Partition* partition )
     : m_partition( partition )
 {}
 
-void PartitionJob::progress(int percent)
+void PartitionJob::iprogress(int percent)
 {
     if ( percent < 0 )
         percent = 0;
diff --git a/src/modules/partition/jobs/PartitionJob.h b/src/modules/partition/jobs/PartitionJob.h
index cf773d60e..8cbd8d0c4 100644
--- a/src/modules/partition/jobs/PartitionJob.h
+++ b/src/modules/partition/jobs/PartitionJob.h
@@ -43,7 +43,7 @@ public slots:
      * KPMCore presents progress as an integer percent from 0 .. 100,
      * while Calamares uses a qreal from 0 .. 1.00 .
      */
-    void progress( int percent );
+    void iprogress( int percent );
 
 protected:
     Partition* m_partition;
diff --git a/src/modules/partition/jobs/ResizePartitionJob.cpp b/src/modules/partition/jobs/ResizePartitionJob.cpp
index 340a19acd..3b7588ded 100644
--- a/src/modules/partition/jobs/ResizePartitionJob.cpp
+++ b/src/modules/partition/jobs/ResizePartitionJob.cpp
@@ -80,7 +80,7 @@ ResizePartitionJob::exec()
     m_partition->setLastSector( m_oldLastSector );
     ResizeOperation op(*m_device, *m_partition, m_newFirstSector, m_newLastSector);
     op.setStatus(Operation::StatusRunning);
-    connect(&op, &Operation::progress, this, &ResizePartitionJob::progress );
+    connect(&op, &Operation::progress, this, &ResizePartitionJob::iprogress );
 
     QString errorMessage = tr( "The installer failed to resize partition %1 on disk '%2'." )
                        .arg( m_partition->partitionPath() )

